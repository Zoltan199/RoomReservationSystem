<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <div id="app">
        <v-app>
            <v-main>
              <v-container>

                <v-data-table 
                :items="lista" :headers="headersRooms"
                >

                </v-data-table>
            </v-container>
            </v-main>
        </v-app>
        
    </div>
</body>

<script>
    var app = new Vue({
        el:"#app",
        vuetify: new Vuetify(),
        data:{
            mensaje: "ejemplooooo",
            lista: [],
            headersRooms: [
                { text: 'Numero de habitación', value: 'roomNumber' },
                { text: 'Identificador de habitación', value: 'id' },
                { text: 'Numero de personas', value: 'capacity' },
                { text: 'Disponibilidad', value: 'available' }
            ]
        },
        methods: {

            getClients(){
                fetch("https://jsonplaceholder.typicode.com/users/1", {
                    method: "GET",
                    mode: "no-cors",
                    headers: {
                        "Content-Type": "application/json",
                    }
                })
                .then(response => {
                    console.log(response)
                    return response.json()

                })
                .then(data => {
                    this.lista = data;
                })
                .catch(error => {console.log(error)});
            },
            async getClients2(){
             const respuesta = await fetch("http://localhost:8080/api/rooms", {
                    method: "GET",
                    /* mode: "no-cors",   */
                    headers: {
                        "Content-Type": "application/json",
                        
                    }
                });
             const data = await respuesta;
             return data
        }
        },

        
        created(){
            const exx = this.getClients2();
            exx.then(response => response.json())
            .then((data => {
                this.lista=data;
            }))
        }
    })
</script>
</html>